values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
dim(fisheries)
summary(fisheries)
names(fisheries)
anyNA(fisheries)
fisheries <- clean_names(fisheries)
names(fisheries)
fisheries <- clean_names(fisheries)
names(fisheries)
fisheries <- fisheries %>%
mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area), as.factor))
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
count(country)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year,catch)
fisheries_tidy %>%
summarize(n_distinct_species=n_distinct(asfis_species_number))
fisheries_tidy %>%
filter(year==2000) %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
filter(year==2000) %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T)) %>%
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T))
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T)) %>%
max(catch_overall)
View(fisheries_tidy)
View(fisheries_tidy)
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T))
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T)
n=n())
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summary(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
filter(between(year, 1990,2000)) %>%
group_by(country) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
summarize(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summarize(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
filter(between(year, 2008,2012)) %>%
group_by(country) %>%
filter(isscaap_taxonomic_group == "Squids, cuttlefishes, octopuses") %>%
summarize(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall)) %>%
head(n=5)
fisheries_tidy %>%
group_by(asfis_species_name) %>%
filter(between(year, 2008, 2012), asfis_species_name != "Osteichthyes") %>%
summarize(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
group_by(catch) %>%
select(country, year, catch)
filter(between(year, 2000, 2012)) %>%
summarize(mean_catch=mean(catch, na.rm=T)) %>%
arrange(desc(mean_catch))
fisheries_tidy %>%
group_by(catch) %>%
select(country, year, catch)
filter(between(year, 2000, 2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T),
mean_catch=mean(catch_overall, na.rm=T)) %>%
arrange(desc(mean_catch))
fisheries_tidy %>%
group_by(catch) %>%
select(country, year, catch)
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T),
mean_catch=mean(catch_overall, na.rm=T)) %>%
arrange(desc(mean_catch))
fisheries_tidy %>%
group_by(catch) %>%
select(country, year, catch) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T),
mean_catch=mean(catch_overall, na.rm=T)) %>%
arrange(desc(mean_catch))
fisheries_tidy %>%
group_by(catch) %>%
select(country, year, catch) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T),
mean_catch=mean(catch_overall, na.rm=T), n=n()) %>%
arrange(desc(mean_catch))
fisheries_tidy %>%
group_by(catch) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T),
mean_catch=mean(catch_overall, na.rm=T), n=n()) %>%
arrange(desc(mean_catch)) %>%
select(country, year, catch)
fisheries_tidy %>%
group_by(catch) %>%
select(country, year, catch) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T),
mean_catch=mean(catch_overall, na.rm=T), n=n()) %>%
arrange(desc(mean_catch)) %>%
select(country, year, catch, mean_catch)
fisheries_tidy %>%
group_by(country) %>%
select(country, year, catch) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T),
mean_catch=mean(catch_overall, na.rm=T), n=n()) %>%
arrange(desc(mean_catch)) %>%
select(country, year, catch, mean_catch)
fisheries_tidy %>%
group_by(country) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T),
mean_catch=mean(catch_overall, na.rm=T)) %>%
arrange(desc(mean_catch))
fisheries_tidy %>%
group_by(country) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = sum(catch, na.rm=T)) %>%
arrange(desc(mean_catch))
fisheries_tidy %>%
group_by(country) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = mean(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
knitr::opts_chunk$set(echo = TRUE)
elephants <- read_data("data/ElephantsMF.csv")
elephants <- read_csv("data/ElephantsMF.csv")
setwd("/Users/amandaduong/Desktop/BIS15W2024_aduong/practice_midterm1")
elephants <- read_csv("data/ElephantsMF.csv")
elephants <- read_csv("data/ElephantsMF.csv")
elephants <- read_csv(file = "data/ElephantsMF.csv")
elephants <- read.csv(file = "data/ElephantsMF.csv")
library(tidyverse)
library(janitor)
elephants <- read_csv("data/ElephantsMF.csv")
elephants <- clean_names(elephants)
names(elephants)
elephants <- elephants %>%
mutate(sex, as.factor)
class(elephants$sex)
class(elephants$sex)
elephants$sex <- as.factor(elephants$sex)
class(elephants$sex)
View(elephants)
males <- elephants %>%
select(age, height, sex) %>%
filter(sex = "M")
males <- elephants %>%
select(age, height, sex) %>%
filter(sex == "M")
males
males <- elephants %>%
select(age, height, sex) %>%
filter(sex == "M")
count(males)
males <- elephants %>%
select(age, height, sex) %>%
filter(sex == "M")
males
count(males)
females <- elephants %>%
select(age, height, sex) %>%
filter(sex == "F")
females
count(females)
mean(elephants$age)
# average age by males
mean(males$age)
# average height by males
mean(males$height)
# average age by females
mean(females$age)
# average height by females
mean(females$height)
min(elephants$height)
max(elephants$height) # max height of individuals
males_over_20 <- males %>%
males <- elephants %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20) %>%
arrange(desc(males_over_20))
males_over_20 <- males %>%
males <- elephants %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20) %>%
arrange(desc(males))
males_over_20 <- males %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20) %>%
arrange(desc(males))
males_over_20 <- males %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20) %>%
arrange(desc(males_over_20))
males_over_20 <- males %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20)
males_over_20 <- males %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20)
males_over_20
males_over_20 <- males %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20)
summarize(males_overall=mean(males$height, na.rm=T)) %>%
arrange(desc(males_overall))
males_over_20 <- males %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20)
mutate(males_overall=mean(males$height, na.rm=T)) %>%
arrange(desc(males_overall))
males_over_20 <- males %>%
select(age, height, sex) %>%
filter(sex == "M", age > 20)
mutate(males_overall=mean(males$height, na.rm=T)) %>%
arrange(desc(males_overall))
knitr::opts_chunk$set(echo = TRUE)
elephants %>%
count(sex)
elephants %>%
summarize(mean_age=mean(age))
elephants %>%
group_by(sex) %>%
summarise(mean_age=mean(age),
mean_height=mean(height))
library("tidyverse")
library("janitor")
wolves <- read.csv("data/NPS_wolfmortalitydata.csv", na = c("NULL")) %>% clean_names()
names(wolves)
summary(wolves)
wolves %>%
count(park)
View(wolves)
wolves %>%
group_by(packsize_aug) %>%
summarise(max_wolf_packs=max(packsize_aug),
n_wolves=n())
wolves %>%
group_by(packsize_aug) %>%
summarize(packsize_overall=sum(packsize_aug, na.rm=T)) %>%
arrange(desc(packsize_aug))
wolves %>%
group_by(park) %>%
summarize(packsize_overall=sum(packsize_aug, na.rm=T)) %>%
arrange(desc(packsize_aug))
wolves %>%
group_by(park) %>%
select(park, packsize_aug)
summarize(packsize_overall=sum(packsize_aug, na.rm=T)) %>%
arrange(desc(packsize_aug))
wolves %>%
group_by(park) %>%
select(park, packsize_aug) %>%
summarize(packsize_overall=sum(packsize_aug, na.rm=T)) %>%
arrange(desc(packsize_aug))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
dim(fisheries)
summary(fisheries)
names(fisheries)
anyNA(fisheries)
fisheries <- clean_names(fisheries)
names(fisheries)
fisheries <- fisheries %>%
mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area), as.factor))
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
count(country)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year,catch)
fisheries_tidy %>%
summarize(n_distinct_species=n_distinct(asfis_species_number))
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summarize(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
filter(between(year, 1990,2000)) %>%
group_by(country) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
summarize(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
filter(between(year, 2008,2012)) %>%
group_by(country) %>%
filter(isscaap_taxonomic_group == "Squids, cuttlefishes, octopuses") %>%
summarize(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall)) %>%
head(n=5)
fisheries_tidy %>%
group_by(asfis_species_name) %>%
filter(between(year, 2008, 2012), asfis_species_name != "Osteichthyes") %>%
summarize(catch_overall=sum(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
fisheries_tidy %>%
group_by(country) %>%
filter(between(year, 2008,2012)) %>%
summarize(catch_overall = mean(catch, na.rm=T)) %>%
arrange(desc(catch_overall))
wolves %>%
select(park, packsize_aug) %>%
group_by(park) %>%
summarize(packsize_overall=sum(packsize_aug, na.rm=T)) %>%
arrange(desc(packsize_aug))
wolves %>%
select(park, packsize_aug) %>%
group_by(park) %>%
summarize(packsize_overall=sum(packsize_aug, na.rm=T)) %>%
arrange(desc(packsize_overall))
wolves %>%
select(park, pack) %>%
group_by(park) %>%
summarize(packsize_overall=sum(pack, na.rm=T)) %>%
arrange(desc(packsize_overall))
wolves %>%
select(park, mort_all) %>%
group_by(park) %>%
summarize(human_mortalities=sum(mort_all, na.rm=T)) %>%
arrange(desc(human_mortalities))
names(wolves)
ynp <- wolves %>%
select(park, biolyr, pack, packcode, packsize_aug, mort_yn, mort_all, mort_lead, mort_nonlead, reprody1, persisty1) %>%
filter(park=="YNP")
ynp <- wolves %>%
select(park, biolyr, pack, packcode, packsize_aug, mort_yn, mort_all, mort_lead, mort_nonlead, reprody1, persisty1) %>%
filter(park=="YNP")
ynp
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarise(mean_pack_size=mean(packsize_aug),
nsamples=n())
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarise(mean_pack_size=mean(packsize_aug))
ynp %>%
filter(pack=="druid") %>%
summarise(mean_pack_size=mean(packsize_aug))
ynp %>%
group_by(biolyr) %>%
summarise(max_pack_size=max(packsize_aug)) %>%
arrange(desc(max_pack_size))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarise(max_pack_size=max(packsize_aug)) %>%
arrange(desc(max_pack_size))
ynp %>%
group_by(biolyr) %>%
summarise(max_pack_size=max(packsize_aug)) %>%
arrange(desc(max_pack_size))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarise(max_pack_size=max(packsize_aug)) %>%
arrange(desc(max_pack_size))
ynp %>%
group_by(pack) %>%
summarise(overall_persistence=sum(persisty1)) %>%
arrange(desc(overall_persistence))
ynp %>%
group_by(pack) %>%
summarise(overall_persistence=sum(persisty1, na.rm=T)) %>%
arrange(desc(overall_persistence))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarise(max_pack_size=max(packsize_aug, na.rm=T)) %>%
arrange(desc(max_pack_size))
ynp %>%
filter(pack=="druid") %>%
summarise(mean_pack_size=mean(packsize_aug, na.rm=T)) # This is the average pack size throughout all of the years
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarise(mean_pack_size=mean(packsize_aug, na.rm=T)) # This is the average pack size by year
wolves %>%
select(park, biolyr, pack, mort_lead, mort_nonlead) %>%
group_by(park) %>%
filter(between(biolyr, 2005, 2012)) %>%
summarize(mean_mortlead=mean(mort_lead)) %>%
arrange(desc(mean_mortlead))
wolves %>%
select(park, biolyr, pack, mort_lead, mort_nonlead) %>%
group_by(park) %>%
filter(between(biolyr, 2005, 2012)) %>%
summarize(mean_mortlead=mean(mort_lead, na.rm=T)) %>%
arrange(desc(mean_mortlead))
wolves %>%
select(park, biolyr, mort_lead) %>%
group_by(park) %>%
filter(between(biolyr, 2005, 2012)) %>%
summarize(mean_mortlead=mean(mort_lead, na.rm=T)) %>%
arrange(desc(mean_mortlead))
wolves <- wolves %>%
mutate(pack, as.factor)
class(wolves$pack)
class(wolves$pack)
wolves$pack <- as.factor(wolves$pack)
levels(wolves$pack)
class(wolves$pack)
wolves$pack <- as.factor(wolves$pack)
levels(wolves$pack)
wolves %>%
select(park, pack) %>%
group_by(park) %>%
summarize(pack_overall=sum(pack, na.rm=T)) %>%
arrange(desc(pack_overall))
class(wolves$pack)
pack <- as.factor(wolves$pack)
wolves %>%
select(park, pack) %>%
group_by(park) %>%
summarize(pack_overall=sum(pack, na.rm=T)) %>%
arrange(desc(pack_overall))
wolves %>%
group_by(park) %>%
count(pack)
dena <- wolves %>%
filter(park == "DENA") %>%
count(pack)
dena <- wolves %>%
filter(park == "DENA") %>%
count(pack)
View(dena)
wolves %>%
tabyl(pack)
wolves %>%
group_by(park) %>%
tabyl(pack)
wolves %>%
group_by(park) %>%
summarize(n_distinct_pack=n_distinct(pack))
wolves %>%
group_by(park) %>%
summarize(n_distinct_pack=n_distinct(pack))
wolves %>%
group_by(park) %>%
summarize(n_distinct_pack=n_distinct(pack)) %>%
arrange(desc(n_distinct_pack))
View(ynp)
